---
title: よく使う Nerves の mix タスクはどこで定義されている？
tags:
  - Elixir
  - IoT
  - mix
  - Nerves
private: false
updated_at: '2025-12-07T16:23:59+09:00'
id: b24558a3e14c4ac6af7a
organization_url_name: fukuokaex
slide: false
ignorePublish: false
---
## はじめに

[Elixir](https://elixir-lang.org/)/[Nerves](https://nerves-project.org/) で開発していると、いろんな `mix` タスクを使いますよね。

```bash
# 利用可能なタスクを一覧表示
mix help

# Nerves 関連タスクを絞って確認
mix help | grep firmware
# mix burn
# mix firmware
# mix firmware.burn
# mix firmware.gen.gdb
# mix firmware.gen.script
# mix firmware.image
# mix firmware.metadata
# mix firmware.patch
# mix firmware.unpack
# mix upload
```

よく使うタスクをざっと挙げるとこんな感じでしょうか：

* `mix nerves.new`
* `mix deps.get`
* `mix compile`
* `mix firmware`
* `mix burn`
* `mix upload`
* ...

https://qiita.com/mnishiguchi/items/fc3d287d8c6dcd3f5ddb

## どこで定義されてるの？

調べてみると、これらのタスクはひとつのパッケージに集約されているわけではなく、それぞれ別々の Elixir パッケージに実装されていることが分かります。

以下に代表的なタスクとその定義元をまとめました：

| mix タスク                                   | 提供パッケージ                                                                      | 定義ファイル                                                                                                                                      |
| ----------------------------------------- | ---------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------- |
| `mix nerves.new`                          | [`nerves_bootstrap`](https://github.com/nerves-project/nerves_bootstrap)     | [lib/mix/tasks/nerves](https://github.com/nerves-project/nerves_bootstrap/tree/main/lib/mix/tasks/nerves)                                   |
| `mix deps.get`                            | [`elixir`](https://github.com/elixir-lang/elixir)                        | [lib/mix/lib/mix/tasks](https://github.com/elixir-lang/elixir/tree/v1.19.3/lib/mix/lib/mix/tasks)                                           |
| `mix firmware` / `mix burn`               | [`nerves`](https://github.com/nerves-project/nerves)                         | [lib/mix/tasks/firmware.ex](https://github.com/nerves-project/nerves/blob/main/lib/mix/tasks/firmware.ex)                                   |
| `mix upload`<br>`mix firmware.gen.script` | [`ssh_subsystem_fwup`](https://github.com/nerves-project/ssh_subsystem_fwup) | [lib/mix/tasks/firmware](https://github.com/nerves-project/ssh_subsystem_fwup/blob/main/lib/mix/tasks) |

Nerves開発における`mix`タスクの実装は、用途ごとに役割分担されており、実際のソースコードを読みに行くと、裏で何をしているのか理解できて面白いです。

## おわりに

普段なんとなく使っている `mix` コマンドも、実は複数のパッケージにまたがって定義されています。

「このタスク、どういう仕組みで動いてるんだろう？」と思ったときには、Hexパッケージのリポジトリを辿ってみると、新しい発見があるかもしれません。
